{%extends 'base.html'%}
{% load static %}
{% block title %}Books{% endblock %}
{% block style %}<link rel="stylesheet" href="{% static 'books.css' %}">{% endblock %}

{% block content %}

<div class="d-flex align-content-start flex-wrap">

	<div class='filter'>
	
		<div class="filter-genre">
			{% for genre in Genres %}
				<a class="genre" href="{% url 'filtered_view' genre %}">{{genre}}</a>
			{% endfor %}
			<!-- <a class="genre" href="{% url 'books' %}">View All</a> -->
		</div>
	</div>
</div>
<center>
{% if recommendedbooks %}
<div class="container">
	<h2>Books recommended for you</h2>
	{% for checkout in recommendedbooks %}
		{% for book in checkout %}
	<div class="book">
		{% if book.Cover_image %}
			<img class="book-cover" src = {{book.Cover_image.url}}/>
		{% else %}
			<img class="book-cover" src = '{% static "images/105093.jpg"%}'>
		{% endif %}

		<div class='book-info'>
			<h5><a class="book-link" href="{% url 'bookview' book.serial_number%}">{{book.title|truncatewords:4}}</a></h5>
			<p class="author">By: {{book.Author}}</p>
			 <span class="tooltiptext">{{book.description|truncatewords:50}}</span>
		</div>
		<div class='tag'>{{book.state}}</div>
	</div>
	{% endfor %}

	{% endfor %}

</div><hr>
{% endif %}
<div class="d-flex align-content-start flex-wrap ">
	{% for book in Books %}
	<div class="book">	
		{% if book.Cover_image %}
			<img class="book-cover" src = {{book.Cover_image.url}}/>
		{% else %}
			<img class="book-cover" src = '{% static "images/105093.jpg"%}'>
		{% endif %}

		<div class='book-info'>
			<h5><a class="book-link" href="{% url 'bookview' book.serial_number%}">{{book.title|truncatewords:4}}</a></h5>
			<p class="author">By: {{book.Author}}</p>
			 <span class="tooltiptext">{{book.description|truncatewords:50}}</span>
		</div>
		<div class='tag'>{{book.state}}</div>
	</div>
	{% endfor %}

</div>

</center>

	<nav aria-label="Page navigation example" class="nav-pag">
  		<ul class="pagination">
			{% if Books.has_previous %}
				<li class="page-item"><a href="?page=1 #news" class="page-link">&laquo First</a></li>
				<li class="page-item"><a href="?page={{Books.previous_page_number}} #news" class="page-link">{{Books.previous_page_number}}</a></li>
			{% endif %}
			<li class="page-item"><a class="page-link" href="#">{{Books.number}}</a></li>
			{% if Books.has_next %}
				<li class="page-item"><a href="?page={{Books.next_page_number}} #news" class="page-link">{{Books.next_page_number}}</a></li>
				<li class="page-item"><a href="?page={{Books.paginator.num_pages}} #news" class="page-link">&raquo</a></li>
        	{% endif %}
  		</ul>
	</nav>

{% endblock %}